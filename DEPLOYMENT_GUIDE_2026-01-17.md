# ุฅุฑุดุงุฏุงุช ุงููุดุฑ - Deployment Guide

## ุงูุชุงุฑูุฎ: 2026-01-17
## Commit: 6ef1e61

---

## โ ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ ุฎุท Tajawal
- ุชู ุฅุถุงูุฉ `!important` ูุถูุงู ุชุญููู ุงูุฎุท ุนูู ุฌููุน ุงูุนูุงุตุฑ
- ุงูุขู ูุนูู ุงูุฎุท ุจุดูู ุตุญูุญ ูู ุฌููุน ุฃูุญุงุก ุงูุชุทุจูู

### 2. ุฅุตูุงุญ ุฃุฎุทุงุก Recharts
- ุชู ุญู ูุดููุฉ: `The width(-1) and height(-1) of chart should be greater than 0`
- ุชู ุฅุถุงูุฉ `minHeight` ูุฌููุน ุงููุฎุทุทุงุช (PieChart, AreaChart, BarChart)

### 3. ุชุญุฏูุซ ุญููู ุงููุดุฑ
- ุชุบููุฑ ุงูุณูุฉ ูู 2025 ุฅูู 2026

### 4. ุดุนุงุฑ ุงููุทูุฑ
- ุดุนุงุฑ dev.png ุงูุขู ูุงุจู ููููุฑ ูููุชุญ: https://zaco.sa

### 5. ุฅุตูุงุญ ุญููู ุงูููุงุฐุฌ
**ุงูููุฏ ุงููุงุฑุฏ (INCOMING):**
- ูู ุฌูุฉ: ุญูู ุญุฑ (ููุชุจ ุงููุณุชุฎุฏู ุงุณู ุงูุฌูุฉ ุงููุฑุณูุฉ)
- ุฅูู ุฌูุฉ: ุซุงุจุช โ `MDLBEAST Entertainment Company`

**ุงูููุฏ ุงูุตุงุฏุฑ (OUTGOING):**
- ูู ุฌูุฉ: ุซุงุจุช โ `MDLBEAST Entertainment Company`
- ุฅูู ุฌูุฉ: ุญูู ุญุฑ (ููุชุจ ุงููุณุชุฎุฏู ุงุณู ุงูุฌูุฉ ุงููุณุชูุจูุฉ)

### 6. ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชู ุฅุถุงูุฉ ุนููุฏ `attachment_count` ูู ุฌุฏูู documents
- ุชู ุฅูุดุงุก migration file ุฌุฏูุฏ

---

## ๐ ุฎุทูุงุช ุงููุดุฑ

### ุฃููุงู: ูุดุฑ ุงูู Backend ุนูู Render

1. **ุชุทุจูู Database Migration:**
   
   ุงูุชุญ PostgreSQL Console ูู Render ููู ุจุชุดุบูู:
   
   ```sql
   ALTER TABLE documents ADD COLUMN IF NOT EXISTS attachment_count VARCHAR(255) DEFAULT '0';
   UPDATE documents SET attachment_count = '0' WHERE attachment_count IS NULL;
   ```

2. **ุฅุนุงุฏุฉ ูุดุฑ Backend:**
   
   Render ุณููุชุดู ุงูุชุญุฏูุซ ุชููุงุฆูุงู ูู GitHub ููุนูุฏ ุงููุดุฑ.
   
   ุฃู ููููู ุงูุถุบุท ุนูู "Manual Deploy" โ "Deploy latest commit"

3. **ุงูุชุญูู ูู Backend:**
   
   ุงูุชุญ: `https://mdlbeast.onrender.com/health`
   
   ูุฌุจ ุฃู ุชุฑู: `{"status":"ok"}`

---

### ุซุงููุงู: ูุดุฑ ุงูู Frontend ุนูู Bluehost

1. **ุจูุงุก Frontend ูุญููุงู:**
   
   ```bash
   cd d:\Mahmoud\hghvadt\mdlbeast
   npm run build
   ```

2. **ุฑูุน ุงููููุงุช:**
   
   ุงุฑูุน ูุญุชููุงุช ูุฌูุฏ `out/` ุฅูู:
   ```
   public_html/mdlbeast/
   ```

3. **ุงูุชุญูู ูู Frontend:**
   
   ุงูุชุญ: `https://zaco.sa/mdlbeast/`

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช ุงููุทููุจุฉ

### 1. ุงุฎุชุจุงุฑ ุงูุฎุท
- [ ] ุงูุชุญ ุงูุชุทุจูู ูุชุฃูุฏ ูู ุธููุฑ ุฎุท Tajawal ูู ุฌููุน ุงูุตูุญุงุช
- [ ] ุชุญูู ูู ุงูุฃุฒุฑุงุฑุ ุงูุญูููุ ูุงูุนูุงููู

### 2. ุงุฎุชุจุงุฑ ุงููุฎุทุทุงุช
- [ ] ุงูุชุญ ููุญุฉ ุงูุชุญูู (Dashboard)
- [ ] ุชุฃูุฏ ูู ุธููุฑ ุฌููุน ุงููุฎุทุทุงุช ุจุฏูู ุฃุฎุทุงุก ูู Console
- [ ] PieChartุ AreaChartุ BarChart ูุฌุจ ุฃู ุชุนูู

### 3. ุงุฎุชุจุงุฑ ุงูููุงุฐุฌ
- [ ] ุงูุชุญ "ููุฏ ูุงุฑุฏ ุฌุฏูุฏ"
  - ุญูู "ูู ุฌูุฉ": ุญุฑ (ูููู ุงููุชุงุจุฉ)
  - ุญูู "ุฅูู ุฌูุฉ": ุซุงุจุช (MDLBEAST - ูุนุทู)
  
- [ ] ุงูุชุญ "ููุฏ ุตุงุฏุฑ ุฌุฏูุฏ"
  - ุญูู "ูู ุฌูุฉ": ุซุงุจุช (MDLBEAST - ูุนุทู)
  - ุญูู "ุฅูู ุฌูุฉ": ุญุฑ (ูููู ุงููุชุงุจุฉ)

### 4. ุงุฎุชุจุงุฑ ุญูุธ ุงููุณุชูุฏุงุช
- [ ] ุฃูุดุฆ ููุฏ ูุงุฑุฏ ุฌุฏูุฏ ูุน ููู PDF
- [ ] ุชุฃูุฏ ูู ุงูุญูุธ ุจูุฌุงุญ ุจุฏูู ุฎุทุฃ `attachment_count`
- [ ] ุฃูุดุฆ ููุฏ ุตุงุฏุฑ ุฌุฏูุฏ
- [ ] ุชุฃูุฏ ูู ุงูุญูุธ ุจูุฌุงุญ

### 5. ุงุฎุชุจุงุฑ ุดุนุงุฑ ุงููุทูุฑ
- [ ] ุงููุฑ ุนูู ุดุนุงุฑ dev.png ูู ุงูู Sidebar
- [ ] ูุฌุจ ุฃู ููุชุญ https://zaco.sa ูู ุชุจููุจ ุฌุฏูุฏ

### 6. ุงุฎุชุจุงุฑ ุญููู ุงููุดุฑ
- [ ] ุชุญูู ูู Footer ูู ุงูุฃุณูู
- [ ] ูุฌุจ ุฃู ูุธูุฑ: "ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2026"

---

## ๐ ููุงุญุธุงุช ูููุฉ

### Console Warnings ุงููุชููุนุฉ (ูููู ุชุฌุงูููุง):
1. โ **CRLF warnings** - ูุง ุชุคุซุฑ ุนูู ุงููุธุงุฆู
2. โ **Content-Security-Policy warnings** - ูู Google reCAPTCHA
3. โ **Service Worker** - ูุนูู ุจุดูู ุทุจูุนู
4. โ **Partitioned cookie** - ูู reCAPTCHA (ูุง ูุดููุฉ)

### ุงูุฃุฎุทุงุก ุงูุชู ุชู ุญููุง:
- โ `column "attachment_count" does not exist` โ โ ุชู ุงูุญู
- โ `width(-1) and height(-1) of chart` โ โ ุชู ุงูุญู
- โ ุฎุท Tajawal ูุง ูุนูู โ โ ุชู ุงูุญู
- โ ุญููู From/To ุบูุฑ ุตุญูุญุฉ โ โ ุชู ุงูุญู

---

## ๐ง ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู

### ูุดููุฉ: ุงูุฎุท ูุง ุฒุงู ูุง ูุนูู
**ุงูุญู:**
1. ุงูุณุญ Cache ุงููุชุตูุญ (Ctrl + Shift + Delete)
2. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (Ctrl + F5)
3. ุชุฃูุฏ ูู ุฑูุน ููู `styles/globals.css` ุงูุฌุฏูุฏ

### ูุดููุฉ: ุฎุทุฃ attachment_count
**ุงูุญู:**
1. ุงูุชุญ Render PostgreSQL Console
2. ุดุบู:
   ```sql
   ALTER TABLE documents ADD COLUMN attachment_count VARCHAR(255) DEFAULT '0';
   ```

### ูุดููุฉ: ุงููุฎุทุทุงุช ูุง ุชุธูุฑ
**ุงูุญู:**
1. ุงูุชุญ Developer Console (F12)
2. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก JavaScript
3. ุฃุนุฏ ุจูุงุก Frontend: `npm run build`
4. ุฃุนุฏ ุฑูุน ูุฌูุฏ `out/`

---

## ๐ ููุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ุชุญูู ูู:
1. Render Logs: https://dashboard.render.com
2. Browser Console: F12 โ Console
3. Network Tab: F12 โ Network

---

## โจ ููุงูุฉ ุงูุชุญุฏูุซ

ุชู ุฑูุน ุฌููุน ุงูุชุบููุฑุงุช ุฅูู GitHub.
Commit ID: `6ef1e61`

**ุงููููุงุช ุงููุนุฏูุฉ:**
- App.tsx (ุญููู ูุดุฑ + ุฑุงุจุท zaco.sa)
- components/Dashboard.tsx (ุฅุตูุงุญ Recharts)
- components/DocumentForm.tsx (ุฅุตูุงุญ ุญููู ูู/ุฅูู)
- styles/globals.css (ุฅุตูุงุญ ุฎุท Tajawal)
- backend/scripts/00_consolidated_schema.sql (ุฅุถุงูุฉ attachment_count)
- backend/scripts/20_add_attachment_count_final.sql (migration ุฌุฏูุฏ)

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2026-01-17  
**ุงููุทูุฑ:** GitHub Copilot  
**ุงูุฅุตุฏุงุฑ:** 1.4
